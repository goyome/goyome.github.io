<!DOCTYPE html>
<html lang="fr"><!-- version 1.0 --><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <title>Workshop Elasticsearch - Notions de base</title>

    <link href="./css.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./reveal.css">
    <link rel="stylesheet" href="./simple.css" id="theme">
    <link rel="stylesheet" href="./esup-theme.css">

    <link rel="stylesheet" href="./default.css">


  </head>

  <body>

    <div data-background-transition="default" data-transition-speed="default" class="reveal esup linear center">

      <div style="width: 960px; height: 700px; transform: translate(-50%, -50%) scale(1) translate(50%, 50%);" class="slides">

        <section style="top: -350px; display: block;" class="main-title present">
          <header>
            <h1>
              <img src="./logo-esup--NEW.png" alt="ESUP-Portail" class="logo-img">
            </h1>
            <h5 class="event shadow">
              <span class="event-name">Workshop Elasticsearch</span>
              <span class="event-date">01 juin 2016</span>
              <span class="event-location">Paris</span>
            </h5>
          </header>
          <div class="presentation-title shadow">
            <h3>Notions de base</h3>
            <ul class="presenters">
              <li><span class="author">Guillaume COLSON</span><span class="institution"><img class="logo-img" src="./logo_UL.png" alt="" style="background-color: #FFF;"></span><span class="logo"><img class="logo-img" src="./logo-esup--NEW.png" alt="" style="background-color: #FFF;"></span></li>
            </ul>
          </div>
          <footer>
            <img src="./communaute.png" alt="">
          </footer>
        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -271.5px; display: block;" hidden="">
          <header>
            <h2 class="shadow">Sommaire</h2>
          </header>
          <div class="slide-content">
            <ol>
              <li>Concept</li>
              <li>Vocabulaire</li>
              <li>Alimenter un index</li>
              <li>Requêter un index</li>
              <li>Agrégations</li>
              <li>Recherche full-text et pertinence</li>
            </ol>
          </div>
        </section>

        <!--///////////////////////////////////////////-->

        <section style="top: -319px; display: block;" class="divider future" hidden="">
          <header>
            <h2 class="shadow">Notions de base</h2>
            <img class="cloud" src="./cloud.png" alt="">
            <h3>Concept</h3>
          </header>
          <footer>
            <img src="./communaute.png" alt="">
          </footer>
        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -235.5px; display: block;" hidden="">
          <header>
            <h2>Concept</h2>
            <h3 class="shadow">&gt; Qu'est-ce qu'elasticsearch ?</h3>
          </header>
          <div class="slide-content">
            <ul>
              <li>Basé sur Apache Lucène</li>
              <li>NOSQL</li>
              <li>Indexation complète</li>
              <li>Architecture distribuée et évolutive</li>
              <li>JSON over http mais bien d'autres connecteurs<br/>
                <a href="https://www.elastic.co/guide/en/elasticsearch/client/index.html" target="_blank">https://www.elastic.co/guide/en/elasticsearch/client/index.html</a></li>
            </ul>
          </div>
        </section>

        <!--///////////////////////////////////////////-->

        <section style="top: -319px; display: block;" class="divider future" hidden="">
          <header>
            <h2 class="shadow">Notions de base</h2>
            <img class="cloud" src="./cloud.png" alt="">
            <h3>Vocabulaire</h3>
          </header>
          <footer>
            <img src="./communaute.png" alt="">
          </footer>
        </section>


        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -350px; display: block;" hidden="">
          <section>
            <header>
              <h2>Vocabulaire</h2>
              <h3 class="shadow">&gt; Parlons la même langue</h3>
            </header>
            <div class="slide-content">
              <p>
                </p><div class="gallery-item">
                  <img src="./img/noeud_base.png" alt="Noeud avec un index">
                  <span>Nœud avec un index contenant un shard</span>
                </div>
              <p><strong>Nœud : </strong>Machine physique avec une instance Elasticsearch<br/>
                <strong>Index : </strong>Espace logique d'un nœud (~ base)<br/>
                  <strong>Shard : </strong>Index lucene stockant les données</p>
            </div>
          </section>
          <section>
            <header>
              <h2>Vocabulaire</h2>
              <h3 class="shadow">&gt; Parlons la même langue</h3>
            </header>
            <div class="slide-content">
              <p>
                </p><div class="gallery-item">
                  <img src="./img/noeud_2index.png" alt="Noeud avec 2 index">
                  <span>Nœud avec 1 index de 2 shards et un de 2</span>
                </div>
              <p><strong>Autre exemple</strong><br/>
                La moitié des données de l'index 1 est réparti sur chacun des 2 shards<br/>
              Le nombre de shard ne peut être modifié a posteriori</p>
            </div>
          </section>
          <section>
            <header>
              <h2>Vocabulaire</h2>
              <h3 class="shadow">&gt; Parlons la même langue</h3>
            </header>
            <div class="slide-content">
              <p>
                </p><div class="gallery-item">
                  <img src="./img/cluster.png" alt="Exemple de cluster">
                  <span>Cluster de 2 nœuds avec un index répliqué</span>
                </div>
                <p><strong>Cluster : </strong>Ensemble de nœuds répondant aux mêmes requêtes<br/>
                  <strong>Replica : </strong>Copie d'un index</p>
            </div>
          </section>
        </section>


        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -350px; display: block;" hidden="">
          <header>
            <h2>Vocabulaire</h2>
            <h3 class="shadow">&gt; Parlons la même langue</h3>
          </header>
          <div class="slide-content">
            <ul>
              <li>Un <strong>index</strong> (~ base) contient un ou plusieurs</li>
              <ul>
                <li><strong>types</strong> (~ table) qui contiennent des</li>
                <ul>
                  <li><strong>documents</strong> (~ ligne) objet JSON contenant </li>
                  <ul>
                    <li>des <strong>métadonnées</strong> dont au minimum l'index, le type et l'id</li>
                    <li>des <strong>données</strong> consistant en des associations champ:valeur</li>
                  </ul>
                </ul>
              </ul>
            </ul>
          </div>
        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -350px; display: block;" hidden="">
          <header>
            <h2>Vocabulaire</h2>
            <h3 class="shadow">&gt; Parlons la même langue</h3>
          </header>
          <div class="slide-content">
            <ul>
              <li>les <strong>champs</strong> peuvent avoir les types suivants:</li>
              <ul>
                <li class="fragment">chaîne</li>
                <li class="fragment">nombre</li>
                <li class="fragment">booléen</li>
                <li class="fragment">date</li>
                <li class="fragment">geolocalisation</li>
                <li class="fragment">tableau de valeur</li>
              </ul>
            </ul>
          </div>
        </section>


        <!--///////////////////////////////////////////-->

        <section style="top: -319px; display: block;" class="divider future" hidden="">
            <img class="cloud" src="./img/mains_cambouis.jpg" alt="">
        </section>

        <!--///////////////////////////////////////////-->

        <section style="top: -319px; display: block;" class="divider future" hidden="">
          <header>
            <h2 class="shadow">Notions de base</h2>
            <img class="cloud" src="./cloud.png" alt="">
            <h3>Alimenter un index</h3>
          </header>
          <footer>
            <img src="./communaute.png" alt="">
          </footer>
        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -305px; display: block;" hidden="">
          <header>
            <h2>Alimenter un index</h2>
            <h3 class="shadow">&gt; Démonstration en REST</h3>
          </header>
          <div class="slide-content">
            <p>Création automatique des index à l'insertion du premier élément</p>
              <div class="gallery-item" style="width: 65%">
                <p><pre>curl -XPUT "http://localhost:9200/fr/user/esup-1" -d'
{
  "email": "guillaume.colson@univ.fr",
  "name": "Guillaume Colson",
  "username": "@goyome"
}'

                   </pre>
                  </p>
              </div>
              <div class="gallery-item" style="width: 35%">
                <p>
                  <pre>
{
  "_index": "fr",
  "_type": "user",
  "_id": "esup-1",
  "_version": 1,
  "_shards": {
    "total": 2,
    "successful": 1,
    "failed": 0
  },
  "created": true
}
                  </pre>
                </p>
              </div>
          </div>
        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -305px; display: block;" hidden="">
          <section>
            <header>
              <h2>Alimenter un index</h2>
              <h3 class="shadow">&gt; Démonstration en REST</h3>
            </header>
            <div class="slide-content">
              <p>Création par lot</p>
                  <p><pre>curl -XPOST "http://localhost:9200/_bulk" --data-binaries'
  { "create": { "_index": "us", "_type": "user", "_id": "1" }}
  { "email" : "john@smith.com", "name" : "John Smith", "username" : "@john" }
  { "create": { "_index": "gb", "_type": "user", "_id": "2" }}
  { "email" : "mary@jones.com", "name" : "Mary Jones", "username" : "@mary" }
  '

                     </pre>
                    </p>
            </div>
          </section>
          <section>
            <header>
              <h2>Alimenter un index</h2>
              <h3 class="shadow">&gt; Démonstration en REST</h3>
            </header>
            <div class="slide-content">
              <p>Création par lot</p>
                  <p>
                    <pre>
  {
    "took": 391,
    "errors": false,
    "items": [
      {
        "create": {
          "_index": "us",
          "_type": "user",
          "_id": "1",
          "_version": 1,
          "_shards": {
            "total": 2,
            "successful": 1,
            "failed": 0
          },
          "status": 201
        }
      },
      {
        "create": {
          "_index": "gb",
          "_type": "user",
          ...
                    </pre>
                  </p>
            </div>
          </section>

        </section>

        <!--///////////////////////////////////////////-->

        <section class="future" style="top: -305px; display: block;" hidden="">
          <header>
            <h2>Alimenter un index</h2>
            <h3 class="shadow">&gt; Démonstration en REST</h3>
          </header>
          <div class="slide-content">
            <p>Création depuis un fichier</p>
            <p><a href="tweets.json">fichier json contenant les tweets à importer</a></p>
                <p><pre>curl -XPOST "http://localhost:9200/_bulk?pretty" --data-binary @./path/to/your/tweets.json
  {
    "took" : 88,
    "errors" : false,
    "items" : [ {
      "create" : {
        "_index" : "gb",
        "_type" : "tweet",
        "_id" : "3",
        "_version" : 1,
        "_shards" : {
          "total" : 2,
          "successful" : 1,
          "failed" : 0
        },
        "status" : 201
      }
    }, {
      "create" : {
        "_index" : "us",
        "_type" : "tweet",
        ...

                   </pre>
                  </p>
          </div>
        </section>

      <!--///////////////////////////////////////////-->

      <section class="future" style="top: -305px; display: block;" hidden="">
        <header>
          <h2>Alimenter un index</h2>
          <h3 class="shadow">&gt; Démonstration en REST</h3>
        </header>
        <div class="slide-content">
          <p>État du nœud dans kopf</p>
          <div class="gallery-item" style="width: 100%">
            <img src="./img/index_alimentes.png" alt="3 index créés et alimentés">
            <span>Les 3 index sont créés et ont des documents</span>
          </div>
        </div>
      </section>

         <!--///////////////////////////////////////////-->

        <section class="future" style="top: -316px; display: block;" hidden="">
          <header>
            <h2>Mon titre</h2>
            <h3 class="shadow">&gt; Mon sous-titre</h3>
          </header>
          <div class="slide-content">
            <p>
              Simple text w/ 4 img...
              </p><div class="gallery-item" style="width: 26%">
                <img src="./example_large.png" alt"exemple="" de="" screenshot"="">
                <span>Legende de l'image</span>
              </div>
              <div class="gallery-item" style="width: 26%">
                <img src="./example_large.png" alt"exemple="" de="" screenshot"="">
                <span>Legende de l'image</span>
              </div>
              <div class="gallery-item" style="width: 20%">
                <img src="./example_long.png" alt"exemple="" de="" screenshot"="">
                <span>Legende de l'image</span>
              </div>
              <div class="gallery-item" style="width: 26%">
                <img src="./example_large.png" alt"exemple="" de="" screenshot"="">
                <span>Legende de l'image</span>
              </div>


            <p></p>
          </div>
        </section>

        <!--///////////////////////////////////////////-->


      </div>
    <div class="backgrounds"><div class="slide-background present"></div><div class="slide-background future"></div><div class="slide-background future"></div><div class="slide-background future"></div><div class="slide-background future"></div><div class="slide-background future"></div><div class="slide-background future"></div><div class="slide-background future"></div></div><div style="display: block;" class="progress"><span style="width: 0px;"></span></div><aside style="display: block;" class="controls"><div class="navigate-left"></div><div class="navigate-right enabled"></div><div class="navigate-up"></div><div class="navigate-down"></div><div class="slideNb"></div></aside><div class="state-background"></div><div class="pause-overlay"></div></div>

    <script src="./head.js"></script>
    <script src="./reveal.js"></script>

    <script>

      Reveal.initialize({
        margin: 0,
        controls: true,
        progress: true,
        history: true,
        center: true,
        theme: 'simple', // available themes are in /css/theme
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none
        dependencies: [
            // Cross-browser element.classList (esp needed on safari 4.0.5)
            { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },

            // Syntax highlight for <pre> elements
                  { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }

            ],
        });

        function createSingletonNode( container, tagname, classname, innerHTML ) {

          var node = container.querySelector( '.' + classname );
          if( !node ) {
              node = document.createElement( tagname );
              node.classList.add( classname );
              if( innerHTML !== null ) {
                  node.innerHTML = innerHTML;
              }
              container.appendChild( node );
          }
          return node;

        }

      // From https://github.com/hakimel/reveal.js/pull/56
      function slidenumber(event){
        var current_slide = 0;

        var horizontal_slides = document.querySelectorAll( '.reveal .slides>section' );
        for (var i = 0; i < event.indexh; i++) {
          // get subslides
          var subslides = horizontal_slides[i].querySelectorAll('section');

          // if subslides.length is 0, add 1 for horizontal slide, else add subslides.length
          current_slide += (subslides.length === 0) ? 1 : subslides.length;
        }

        current_slide += event.indexv+1;
        return current_slide.toString();
      }

      function setSlideNb(event) {
        var dom = createSingletonNode(document.querySelector(".controls"), "div", "slideNb");
        dom.innerHTML = event.indexh ? event.indexh : '';
      }

      Reveal.addEventListener('slidechanged', setSlideNb);
      Reveal.addEventListener('ready', setSlideNb);

    </script><script src="./highlight.js" type="text/javascript"></script>



</body></html>
